#include "core/app_state.hpp"

namespace gtkgl::core {

void AppState::set_active_demo(const std::string& demo_id) {
    if (active_demo_id_ != demo_id) {
        active_demo_id_ = demo_id;
        notify_observers();
    }
}

void AppState::subscribe(StateChangeCallback callback) {
    observers_.push_back(std::move(callback));
}

void AppState::notify_observers() {
    for (const auto& callback : observers_) {
        callback();
    }
}

} // namespace gtkgl::core
